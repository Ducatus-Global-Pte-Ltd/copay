<ion-header>

  <ion-navbar>
    <ion-title>{{wallet.name || 'Backup'}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content class="backup">
  <div *ngIf="deleted">
    <div translate>Wallet recovery phrase not available.</div>
    <div translate>You can still export it from Advanced &gt; Export.</div>
  </div>

  <ion-slides class="pages" pager="true" *ngIf="!deleted">
    <ion-slide>
      <div *ngIf="mnemonicWords[0] || !wallet.credentials.mnemonicEncrypted">
        <div translate>Please carefully write down this phrase.</div>
        <div class="phrase">
          <span *ngFor="let word of mnemonicWords">
            <span>{{word}}</span>
            <span *ngIf="useIdeograms">&#x3000;</span>
          </span>
        </div>
        
        <div class="buttons">
          <div class="tldr" translate>We'll confirm on the next screen.</div>
          <button ion-button block [disabled]="wallet.credentials.mnemonicEncrypted || error" (click)="slideNext()" translate>I've written it down</button>
        </div>
      </div>
    </ion-slide>

    <ion-slide>
      <div>
        <div translate>Let's verify your backup phrase.</div>
        <div class="phrase">
          <button ion-button outline *ngFor="let customWord of customWords; let i = index" (click)="removeButton(i, customWord)">{{customWord.word}}</button>
        </div>
        <div class="buttons">
          <div *ngIf="!selectComplete">
            <div class="tldr" translate>Please tap each word in the correct order.</div>
            <div>
              <button ion-button *ngFor="let shuffledWord of shuffledMnemonicWords; let i = index"
                (click)="addButton(i, shuffledWord)"
                [disabled]="shuffledWord.selected">{{shuffledWord.word}}
              </button>
            </div>
          </div>
          
          <div *ngIf="selectComplete">
            <div class="tldr" translate>Is this correct?</div>
            <div>
              <button ion-button block (click)="slideNext();" translate>Confirm</button>
              <button ion-button block outline (click)="initFlow();" translate>Clear</button>
            </div>
          </div>
        </div>
      </div>
    </ion-slide>

    <ion-slide *ngIf="wallet.mnemonicHasPassphrase">
      <div translate>Enter your password</div>
      <div>
        <div translate>In order to verify your wallet backup, please type your password.</div>
        <div class="input">
          <input type="password" id="passphrase" [(ngModel)]="passphrase" autocapitalize="off" spellcheck="false"/>
        </div>
      </div>

      <div>
        <div class="password-required" translate>
          This recovery phrase was created with a password. To recover this wallet both the recovery phrase and password are needed.
        </div>
      </div>

      <div class="buttons">
        <button ion-button block [disabled]="!passphrase" (click)="finalStep();" translate>Confirm</button>
      </div>
    </ion-slide>
  </ion-slides>
</ion-content>
