<ion-header>
  <ion-navbar>
    <ion-title>{{'Receive'|translate}}</ion-title>
    <ion-buttons *ngIf="showShareButton" (click)="shareAddress()" end>
      <ion-icon name="share"></ion-icon>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <div *ngIf="wallet && wallet.isComplete() && wallet.needsBackup" (click)="goToBackup()" class="backup">
    <ion-icon name="alert"></ion-icon>
    <span translate>Wallet not backed up</span>
    <ion-icon name="arrow-forward"></ion-icon>
  </div>
  <div *ngIf="wallet && wallet.isComplete()" class="qr-container">
    <qr-code *ngIf="address" [value]="qrAddress" [level]="M" [size]="220" [foreground]="'#334'"></qr-code>
    <div class="text-address">{{ address }}</div>
    <button ion-button block clear [hidden]="!address" (click)="requestSpecificAmount()">
      <span translate>Request Specific amount</span>
      <ion-icon name="arrow-forward"></ion-icon>
    </button>
    <button ion-button block clear [hidden]="!address" (click)="setAddress(true)">
      <span translate>Generate new address</span>
    </button>
  </div>
  <div *ngIf="wallet && !wallet.isComplete()" class="incomplete-wallet-container">
    <div class="title">
      <span translate>Incomplete wallet</span>
    </div>
    <div class="subtitle">
      <span translate>All signing devices must be added to this multisig wallet before bitcoin addresses can be created.</span>
    </div>
    <button ion-button (click)="goCopayers()" translate>Open wallet</button>
  </div>
  <div *ngIf="wallets[0]" class="wallets-container" (click)="showWallets()">
    <img src="assets/img/icon-wallet.svg" class="icon-wallet">
    <div class="wallet-text">
      <div>{{wallet.name}}</div>
    </div>
  </div>
  <div *ngIf="!wallet">
    <ion-card>
      <ion-item>
        <span translate>No Wallet</span>
      </ion-item>
    </ion-card>
  </div>
</ion-content>
