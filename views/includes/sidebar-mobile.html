<div ng-controller="SidebarController">
  <header>
    <div class="m10b" ng-click="toggleWalletSelection()">
      <div class="col1">
        <div class="avatar-wallet">{{$root.wallet.getName() | limitTo: 1}}</div>
      </div>
      <div class="col2" ng-class="{'col2_full':!wallets.0}">
        <div class="oh m5t m10r"> 
          <div class="right size-10 text-white">[ {{$root.wallet.requiredCopayers}} of {{$root.wallet.totalCopayers}} ]</div>
          <div class="name-wallet">
            <div class="ellipsis">{{$root.wallet.getName()}}</div>
          </div> 
        </div>
        <div class="founds size-12">
          <span ng-if="!$root.wallet.isReady()">Waiting for copayers...</span>
          <div ng-if="$root.wallet.isReady()">
            <span ng-if="$root.updatingBalance"><i class="fi-bitcoin-circle icon-rotate spinner"></i></span>
            <div ng-if="$root.wallet && !$root.updatingBalance" data-options="disable_for_touch:true">
              <b class="m5r">{{totalBalance || 0 |noFractionNumber}} {{$root.wallet.settings.unitName}}</b>
              <span ng-if="alternativeBalanceAvailable" class="alt-currency">{{totalBalanceAlternative |noFractionNumber:2}} {{alternativeIsoCode}}</span>
              <span ng-if="!alternativeBalanceAvailable" class="alt-currency">N/A</span>
            </div> 
          </div>
        </div>
      </div>
      <div class="col3" ng-if="wallets.0">
        <a ng-class="{'selected':walletSelection}" 
          ng-click="toggleWalletSelection()"> 
          <span ng-show="!walletSelection">
            <i class="icon-arrow-down2"></i>
          </span>
          <span ng-show="walletSelection">
            <i class="icon-arrow-up2"></i>
          </span> 
        </a>
      </div>
    </div>
    <div ng-if="walletSelection">
      <div class="side-nav wallets" ng-show="!wallets.0">
        <p class="size-12" translate>You do not have another wallets.</p>
      </div>
      <ul class="side-nav wallets off-canvas-list" ng-show="wallets.0"
        ng-click="toggleWalletSelection()"
        ng-class="{'large':wallets.length > 4, 'medium':wallets.length > 2 && wallets.length < 5}">
        <li data-ng-repeat="item in wallets track by $index"
          class="nav-item" 
          ng-if="item.id != $root.wallet.id">
        <div class="col1">
          <div class="avatar-wallet">{{(item.name || item.id) | limitTo: 1}}</div>
        </div>
        <div class="col2">
          <a class="size-12 wallet-item" ng-click="switchWallet(item.id)">
            <div class="oh">
              <div class="right size-10 type-wallet">
                [ {{item.requiredCopayers}} of {{item.totalCopayers}} ]</div> 
              <div class="ellipsis name-wallet">{{item.name || item.id}}</div>
            </div>
            <div class="oh">
              <span ng-if="item.isReady() && item.balanceInfo.updatingBalance"><i class="fi-bitcoin-circle icon-rotate spinner"></i></span>
              <div ng-if="item.isReady() && !item.balanceInfo.updatingBalance" data-options="disable_for_touch:true">
                <b class="m5r size-12">{{item.balanceInfo.totalBalance || 0 |noFractionNumber}} {{item.settings.unitName}}</b>
                <span class="alt-currency size-10">{{item.balanceInfo.totalBalanceAlternative |noFractionNumber:2}} {{item.balanceInfo.alternativeIsoCode}}</span>
              </div>
              <span ng-if="!item.isReady()">Waiting for copayers...</span>
            </div>
          </a>
        </div>
        </li>
      </ul>
    </div>
  </header>
  <!-- <div ng-if="$root.wallet" class="founds box-founds p15" ng-disabled="$root.loading">
    <div class="line-t" ng-show="!walletSelection" ng-click="refresh()">
      <a class="side-bar text-gray right" title="Manual Refresh"><i class="fi-refresh"></i></a>
      <span ng-if="$root.updatingBalance">
        <i class="fi-bitcoin-circle icon-rotate spinner"></i>
      </span>
      <span ng-if="!$root.updatingBalance">{{totalBalance || 0
        |noFractionNumber}} {{$root.wallet.settings.unitName}} 
      </span>
    </div> 
    <div class="m10t" ng-show="lockedBalance && !walletSelection" ng-click="refresh()">
      {{'Locked'|translate}} 
      <span ng-if="$root.updatingBalance">
        <i class="fi-bitcoin-circle icon-rotate spinner"></i>
      </span>
      <span ng-show="!$root.updatingBalance">
        {{lockedBalance || 0|noFractionNumber}} {{$root.wallet.settings.unitName}}
      </span>
    </div>
  </div> -->

  <a href="#!/profile" class="columns text-center m30v" title="Profile">
    <div class="photo-container">
      <img gravatar-src="'{{username}}'" gravatar-size="35">
    </div>
    <p class="text-black m5"> bechilandia@gmail.com </p>
    <span class="db p20h text-gray size-10" >
      <i class="fi-torso"></i> {{'ViewProfile' | translate }} 
    </span>
  </a>
  <ul class="off-canvas-list columns" ng-show="!walletSelection">
    <li>
      <a href="#!/create" class="db p20h nav-item" title="Create new wallet">
        <i class="size-24 m20r fi-plus"></i> {{'Create new wallet' | translate }} </a>
    </li>
    <li>
    <a href="#!/join" class="db p20h nav-item" title="Join shared wallet">
      <i class="size-24 m20r fi-torsos-all"></i> {{'Join shared wallet' | translate }} </a>
    </li>
    <li>
    <a href="#!/import" class="db p20h nav-item" title="Import wallet">
      <i class="size-24 m20r fi-download"></i> {{'Import a wallet' | translate }} </a>
    </li>
    <li>
      <a href="#!/more" class="db p20h nav-item" title="Settings">
        <i class="size-24 m20r fi-widget"></i> {{'Settings' | translate }} </a>
    </li>
    <li>
      <a href="#!/" class="db p20h nav-item" title="Close"
        ng-click="signout()"><i class="size-24 m20r fi-power"></i> {{'Close'|translate}}</a>
    </li>
  </ul>
  <div class="text-gray size-10 text-center m20t columns">
    <div ng-include="'views/includes/version.html'"></div>
  </div>
</div>

